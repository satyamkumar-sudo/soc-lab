# Azure dev env (AKS) - SOC ingestion
# Usage: docker compose --env-file .env.azure-dev up -d --build

# --- Vertex AI Gemini (kept on GCP as-is) ---
GOOGLE_GENAI_USE_VERTEXAI=True
GOOGLE_CLOUD_PROJECT=wealthy-dev-app-8081
GOOGLE_CLOUD_LOCATION=us-central1

# --- Ingestion provider ---
SOC_INGEST_PROVIDER=azure

# --- Azure AKS dev target ---
AKS_RESOURCE_GROUP=wealthy-dev-rg
AKS_CLUSTER_NAME=wealthy
AKS_USE_ADMIN_CREDENTIALS=False
AKS_USE_TOKEN_KUBECONFIG=True
# AKS AAD Server App ID (used to request kube token from az)
AKS_TOKEN_RESOURCE=6dae42f8-4368-4678-94ff-3960e28e3630
SOC_AZURE_PROJECT=wealthy-dev-rg

# Empty means "all services"
SOC_SERVICE_ALLOWLIST=

# PRODUCTION MODE: Only real Azure logs, NO synthetic/test data.
SOC_DISABLE_SYNTHETIC_LOGS=true

# --- ClickHouse ---
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=9000
CLICKHOUSE_DB=soc
CLICKHOUSE_USER=soc
CLICKHOUSE_PASSWORD=soc_local_dev_strong_password_20260129

# --- Airflow ---
AIRFLOW_UID=50000
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=False
AIRFLOW__API__AUTH_BACKENDS=airflow.api.auth.backend.basic_auth
AIRFLOW__WEBSERVER__RBAC=True
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow
AIRFLOW_DB_NAME=airflow
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=soc_admin_local_dev_strong_password_20260129

# --- SOC API + Gateway ---
SOC_API_BIND=0.0.0.0
SOC_API_PORT=8088
SOC_GATEWAY_HOST=gateway
SOC_GATEWAY_PORT=8443
SOC_GATEWAY_SERVER_NAME=localhost

# --- Alerting ---
ALERT_THROTTLE_SECONDS=60
ALERT_DEDUP_TTL_SECONDS=900

# --- Windows ---
FETCH_LOOKBACK_MINUTES=15
FEATURE_WINDOW_MINUTES=5

