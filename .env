# =========================
# Local SOC Lab - Runtime
# =========================

# --- GCP / Vertex AI (Gemini via Vertex) ---
GOOGLE_GENAI_USE_VERTEXAI=True
GOOGLE_CLOUD_PROJECT=wealthy-dev-app-8081
GOOGLE_CLOUD_LOCATION=us-central1

# Ingestion provider for SOC data plane: gcp | azure
SOC_INGEST_PROVIDER=gcp

# Path inside containers (mounted) to service account JSON.
GOOGLE_APPLICATION_CREDENTIALS=/secrets/gcp-sa.json

# --- GCP targets for SOC ingestion (can differ from Vertex project) ---
# GKE / Cloud Logging project to ingest from:
SOC_GCP_PROJECT=wealthy-prod-app-669

# --- GKE (target cluster for SOC ingestion) ---
GKE_CLUSTER_NAME=wealthyprod
GKE_LOCATION=asia-south1-a

# Optional: additional Cloud Logging filter fragments (ANDed).
LOGGING_EXTRA_FILTER=

# Restrict ingestion/pipeline to these services only (comma-separated).
# Empty means "all services".
SOC_SERVICE_ALLOWLIST=

# PRODUCTION MODE: Only real logs, NO synthetic/test data.
SOC_DISABLE_SYNTHETIC_LOGS=true

# --- Azure AKS dev target (used when SOC_INGEST_PROVIDER=azure) ---
AKS_RESOURCE_GROUP=wealthy-dev-rg
AKS_CLUSTER_NAME=wealthy
# Use admin kubeconfig so containers can authenticate without Azure CLI exec plugins.
AKS_USE_ADMIN_CREDENTIALS=False
AKS_USE_TOKEN_KUBECONFIG=True
AKS_TOKEN_RESOURCE=6dae42f8-4368-4678-94ff-3960e28e3630
SOC_AZURE_PROJECT=wealthy-dev-rg

# --- ClickHouse ---
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=9000
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_DB=soc
CLICKHOUSE_USER=soc
CLICKHOUSE_PASSWORD=soc_local_dev_strong_password_20260129

# --- Airflow ---
AIRFLOW_UID=50000
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=False
AIRFLOW__API__AUTH_BACKENDS=airflow.api.auth.backend.basic_auth
AIRFLOW__WEBSERVER__RBAC=True

# Use Postgres for Airflow metadata (recommended even for local dev).
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow
AIRFLOW_DB_NAME=airflow

# Airflow UI user created by init container.
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=soc_admin_local_dev_strong_password_20260129

# --- SOC API (FastAPI) ---
SOC_API_BIND=0.0.0.0
SOC_API_PORT=8088

# Gateway mTLS
SOC_GATEWAY_HOST=gateway
SOC_GATEWAY_PORT=8443
SOC_GATEWAY_SERVER_NAME=localhost

# --- Alerting ---
ALERT_SLACK_WEBHOOK_URL=
ALERT_WEBHOOK_URL=
ALERT_THROTTLE_SECONDS=60
ALERT_DEDUP_TTL_SECONDS=900

# --- Fetching windows ---
FETCH_LOOKBACK_MINUTES=15
FEATURE_WINDOW_MINUTES=5

# --- Secret Manager integration ---
GCP_USE_SECRET_MANAGER=False

